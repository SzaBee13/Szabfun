<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./img/logo.png" type="image/x-icon">
    <title>Szabfun</title>
    <!-- Open Graph meta tag -->
    <meta property="og:title" content="Szabfun">
    <meta property="og:description" content="There is a place where is free to fun">
    <meta property="og:url" content="https://szabfun.pages.dev">
    <meta property="og:image" content="https://szabfun.pages.dev/img/logo.png">
    <meta property="og:type" content="website">
    <!--Google-->
    <meta name="description" content="There is a place where is free to fun. Have fun with our games!">
    <meta name="author" content="Szabfun">
    <meta name="keywords" content="szabfun, SzaBee13, WizardGuruYT, games">
</head>

<body>
    <div id="container">
        <div id="header">
            <div>
                <h1 class="header-h1 header-text">Szabfun</h1>
            </div>
            <div class="header-content">
                <p class="header-p header-text">There is a place where is free to fun</p>
                <a href="./login/index.html"><button>Account</button></a>
            </div>
        </div>
        <div id="posts">
            <div class="child tic-tac-toe">
                <a href="./tic-tac-toe/index.html">
                    <img src="./img/tictactoe.png" alt="Tic tac toe">
                    <h3>Tic-tac-toe</h3>
                </a>
            </div>
            <div class="child choose-an-username">
                <a href="./choose-an-username/index.html">
                    <img src="./img/choose-an-username.png" alt="choose an username">
                    <h3>Choose an Username</h3>
                </a>
            </div>
            <div class="child swear-word-generator">
                <a href="./swear-word-generator/index.html">
                    <img src="./img/swear-word-generator.jpg" alt="Swear word generator">
                    <h3>Swear Word Generator</h3>
                </a>
            </div>
            <div class="child guess-the-number">
                <a href="./guess-the-number/index.html">
                    <img src="./img/guess-the-number.png" alt="Guess The Number">
                    <h3>Guess The Number</h3>
                </a>
            </div>
            <div class="child watch-some-youtube">
                <a href="./watch-some-youtube/index.html">
                    <img src="./img/watch-some-youtube.png" alt="Watch Some Youtube">
                    <h3>Watch Some Youtube</h3>
                </a>
            </div>
            <div class="child escape-game">
                <a href="./escape-game/index.html">
                    <img src="./img/escape-game.png" alt="Escape Game">
                    <h3>Escape Game</h3>
                </a>
            </div>
            <div class="child chat">
                <a href="./chat/index.html">
                    <img src="./img/chat.png" alt="Chat">
                    <h3>Chat</h3>
                </a>
            </div>
            <div class="child enter-password">
                <a href="./enter-password/index.html">
                    <img src="./img/enter-password.png" alt="Enter Password">
                    <h3>Enter Password</h3>
                </a>
            </div>
            <div class="child sus-link">
                <a href="./sus-link/index.html">
                    <img src="./img/sus-link.png" alt="Sus Link">
                    <h3>Sus Link</h3>
                </a>
            </div>
            <div class="child math">
                <a href="./math/index.html">
                    <img src="./img/math.png" alt="Math">
                    <h3>Math</h3>
                </a>
            </div>
            <div class="child chaos-clicker">
                <a href="./chaos-clicker/index.html">
                    <img src="./img/chaos-clicker.png" alt="Chaos Clicker">
                    <h3>Chaos Clicker</h3>
                </a>
            </div>
            <div class="child rock-paper-scissors">
                <a href="./rock-paper-scissors/index.html">
                    <img src="./img/rock-paper-scissors.png" alt="Rock Paper Scissors">
                    <h3>Rock Paper Scissors</h3>
                </a>
            </div>
        </div>
        <div id="footer">
            <div class="left">
                <p>Created by: <a href="https://szabee13.pages.dev" target="_blank">SzaBee13</a></p>
                <p><a href="./suggestion.html">Suggest Something</a></p>
            </div>
            <div class="right">
                <p>Privacy Policy: <a href="./privacy-policy/index.html">Here</a></p>
                <p>Powered by: <a href="https://cloudflare.com" target="_blank">Cloudflare</a></p>
                <p>Hosted on: <a href="https://pages.dev" target="_blank">Pages.dev</a></p>
                <p>Backend: <a href="./docs/index.html" target="_blank">Docs</a></p>
            </div>
        </div>
    </div>

    <script>
        const apiUrl = 'https://olddell.wampus-enigmatic.ts.net';
        // const apiUrl = 'http://localhost:3000';

        async function showAdminPanelLinkIfAdmin() {
            const googleId = localStorage.getItem("google_id");
            if (!googleId) return;
            try {
                const res = await fetch(`${apiUrl}/admin/is-admin?userId=${googleId}`);
                if (res.ok || res.status === 200 || res.status === 304) {
                    const data = await res.json();
                    if (data.isAdmin) {
                        const leftFooter = document.querySelector("#footer .left");
                        if (leftFooter) {
                            const adminLink = document.createElement("p");
                            adminLink.innerHTML = `<a href="./admin/index.html">Admin Panel</a>`;
                            leftFooter.appendChild(adminLink);
                        }
                    }
                }
            } catch (e) {
                // Fail silently
            }
        }
        showAdminPanelLinkIfAdmin();
    </script>
</body>

</html>